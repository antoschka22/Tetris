<app-navbar></app-navbar><br>
<h3 class="text-center" *ngIf="item"><b>Reporting the item {{item.name}}</b></h3><br>
<div class="container">
    <form novalidate #f="ngForm" (ngSubmit)="onSubmit(f)">
        <div class="input-group">
            <label for="inputEmail3" class="col-sm-2 col-form-label">Report of the item</label>
            <!-- text report of the item -->
            <textarea 
            class="form-control"
            aria-label="With textarea" 
            ngModel [(ngModel)]="reportModel.description" 
            required
            #description="ngModel"
            name="description"></textarea>
        </div><br>
        <!-- buttons -->
        <div class="d-grid gap-2"> 
            <button type="submit" class="btn btn-success" [disabled]="f.invalid" style="margin-right:5px;" (click)="loadingAnimation()">
                <div *ngIf="!displayLoadingAnimation">
                    Submit report
                </div>
                <div class="d-flex align-items-center" *ngIf="displayLoadingAnimation">
                    <strong>Loading...</strong>
                    <div class="spinner-border ms-auto" role="status" aria-hidden="true"></div>
                </div>
            </button>
            <button class="btn btn-primary" type="button" (click)="goBack()">go back</button>
        </div>
    </form>
    <!-- displays error if so -->
    <div *ngIf="error">
        <h2>{{error}}</h2>
    </div>
</div>